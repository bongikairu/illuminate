"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||Object.prototype.toString.call(arr)==="[object Arguments]")){return}var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var _React=React,useState=_React.useState,useEffect=_React.useEffect,useCallback=_React.useCallback,Fragment=_React.Fragment;var compacted_hero_list="1:antimage|2:axe|3:bane|4:bloodseeker|5:crystal_maiden|6:drow_ranger|7:earthshaker|8:juggernaut|9:mirana|11:nevermore|10:morphling|12:phantom_lancer|13:puck|14:pudge|15:razor|16:sand_king|17:storm_spirit|18:sven|19:tiny|20:vengefulspirit|21:windrunner|22:zuus|23:kunkka|25:lina|31:lich|26:lion|27:shadow_shaman|28:slardar|29:tidehunter|30:witch_doctor|32:riki|33:enigma|34:tinker|35:sniper|36:necrolyte|37:warlock|38:beastmaster|39:queenofpain|40:venomancer|41:faceless_void|42:skeleton_king|43:death_prophet|44:phantom_assassin|45:pugna|46:templar_assassin|47:viper|48:luna|49:dragon_knight|50:dazzle|51:rattletrap|52:leshrac|53:furion|54:life_stealer|55:dark_seer|56:clinkz|57:omniknight|58:enchantress|59:huskar|60:night_stalker|61:broodmother|62:bounty_hunter|63:weaver|64:jakiro|65:batrider|66:chen|67:spectre|69:doom_bringer|68:ancient_apparition|70:ursa|71:spirit_breaker|72:gyrocopter|73:alchemist|74:invoker|75:silencer|76:obsidian_destroyer|77:lycan|78:brewmaster|79:shadow_demon|80:lone_druid|81:chaos_knight|82:meepo|83:treant|84:ogre_magi|85:undying|86:rubick|87:disruptor|88:nyx_assassin|89:naga_siren|90:keeper_of_the_light|91:wisp|92:visage|93:slark|94:medusa|95:troll_warlord|96:centaur|97:magnataur|98:shredder|99:bristleback|100:tusk|101:skywrath_mage|102:abaddon|103:elder_titan|104:legion_commander|106:ember_spirit|107:earth_spirit|108:abyssal_underlord|109:terrorblade|110:phoenix|105:techies|111:oracle|112:winter_wyvern|113:arc_warden|114:monkey_king|119:dark_willow|120:pangolier|121:grimstroke|129:mars|xxx1:void_spirit|xxx2:snapfire";var full_hero_list=compacted_hero_list.split("|").map(function(r){return r.split(":")}).map(function(r){return{id:r[0],name:r[1]}});var heroes={heroes:full_hero_list};var heroes_map=heroes.heroes.reduce(function(prev,cur){return Object.assign({},prev,_defineProperty({},cur.id,cur))},{});var formatGameMode=function formatGameMode(lobby,mode){var lobby_list={0:"Normal",1:"Practice",2:"Tournament",3:"Tutorial",4:"Co-op with bots",5:"Team match",6:"Solo Queue",7:"Ranked",8:"Solo Mid 1vs1"};var mode_list={23:"Turbo",24:"Mutation"};return(lobby_list[lobby]||"Unknown")+" "+(mode_list[mode]||"")};var formatDuration=function formatDuration(seconds){var leftover=seconds;var output="";if(leftover>3600){output+=Math.floor(leftover/3600)+":";leftover=leftover%3600}var minute=Math.floor(leftover/60);var second=leftover%60;if(minute<10)minute="0".concat(minute);if(second<10)second="0".concat(second);output+="".concat(minute,":").concat(second);return output};var fetchOpenAPI=function fetchOpenAPI(match_id){return fetch("https://api.opendota.com/api/matches/".concat(match_id)).then(function(r){return r.json()})};var work_queue=[];var worker_process=function worker_process(){if(work_queue.length===0){setTimeout(worker_process,100)}else{var work=work_queue[0];work_queue.shift();var cache=localStorage.getItem("fullmatchdata16-".concat(work.match_id));if(cache){var data=JSON.parse(LZString.decompressFromUTF16(cache));work.resolve(data);setTimeout(worker_process,100);return}fetchOpenAPI(work.match_id).then(function(data){var allowed=["error","start_time","lobby_type","game_mode","duration","players"];var filtered_data=Object.keys(data).filter(function(key){return allowed.includes(key)}).reduce(function(obj,key){obj[key]=data[key];return obj},{});if(filtered_data.players){filtered_data.players=filtered_data.players.map(function(p){var allowed=["account_id","personaname","match_id","player_slot","hero_id","kills","deaths","assists","win"];return Object.keys(p).filter(function(key){return allowed.includes(key)}).reduce(function(obj,key){obj[key]=p[key];return obj},{})})}if(!filtered_data.error){try{localStorage.setItem("fullmatchdata16-".concat(work.match_id),LZString.compressToUTF16(JSON.stringify(filtered_data)))}catch(e){console.log("Can't save data for match ".concat(work.match_id),e)}}work.resolve(filtered_data)}).catch(function(e){console.log(e);work.reject(null)}).finally(function(){setTimeout(worker_process,1000)})}};worker_process();var getGameData=function getGameData(match_id){return new Promise(function(resolve,reject){work_queue.push({match_id:match_id,resolve:resolve,reject:reject})})};var dateThreshold1=moment("2019-05-07T00:00:00Z");var dateThreshold2=moment("2019-08-06T00:00:00Z");var ReportRow=function ReportRow(_ref){var gamemode=_ref.gamemode,timestamp=_ref.timestamp,record=_ref.record;var report_comm=record.report_comm,report_abi=record.report_abi,report_feed=record.report_feed,report_wrong_role_postgame=record.report_wrong_role_postgame,report_wrong_role=record.report_wrong_role,report_avoid_player=record.report_avoid_player,report_abusive_coach=record.report_abusive_coach,commend_teach=record.commend_teach,commend_lead=record.commend_lead,commend_friend=record.commend_friend,commend_forgive=record.commend_forgive;return React.createElement("span",{className:"commend"},"No Data");if(commend_forgive||commend_friend||commend_teach||commend_lead){return React.createElement("span",{className:"commend"},React.createElement("i",{className:"far fa-thumbs-up"})," Commended")}if(!report_comm&&!report_abi&&!report_feed&&!report_wrong_role_postgame&&!report_wrong_role&&!report_avoid_player&&!report_abusive_coach){var guessedType="wrong_role";if(!timestamp||timestamp==="-"){guessedType="wrong_role"}else{var m=moment(timestamp);if(m.isBefore(dateThreshold1)){guessedType="wrong_role"}else if(m.isBefore(dateThreshold2)){guessedType="blocked"}}if(guessedType==="wrong_role"){return React.createElement("span",{className:"report"},React.createElement("i",{className:"far fa-user-tag"})," Reported: Did Not Play Selected Role (Unsure)")}if(guessedType==="blocked"){return React.createElement("span",{className:"report"},React.createElement("i",{className:"far fa-thumbs-down"})," Blocked By Another Player (Unsure)")}return React.createElement("span",{className:"report"},React.createElement("i",{className:"far fa-id-badge"})," Reported: Unspecified (Unsure)")}return React.createElement(Fragment,null,report_comm?React.createElement("span",{className:"report"},React.createElement("i",{className:"far fa-headphones"})," Reported: Comm Abuse"):null,report_abi?React.createElement("span",{className:"report"},React.createElement("i",{className:"far fa-magic"})," Reported: Ability Abuse"):null,report_feed?React.createElement("span",{className:"report"},React.createElement("i",{className:"far fa-utensils"})," Reported: Intentional Feeding"):null,report_wrong_role_postgame?React.createElement("span",{className:"report"},React.createElement("i",{className:"far fa-user-tag"})," Reported: Did Not Play Selected Role (Post Game)"):null,report_wrong_role?React.createElement("span",{className:"report"},React.createElement("i",{className:"far fa-user-tag"})," Reported: Did Not Play Selected Role"):null,report_avoid_player?React.createElement("span",{className:"report"},React.createElement("i",{className:"far fa-thumbs-down"})," Blocked By Another Player"):null,report_abusive_coach?React.createElement("span",{className:"report"},React.createElement("i",{className:"far fa-bell-school-slash"})," Reported: Abusive Coach"):null)};var getHeroImageUrl=function getHeroImageUrl(hero_id){var hero=heroes_map[hero_id];var hero_img="";if(!hero){hero_img="images/match_status/hero_status_unknown_hero.png"}else{var hero_name=hero.name;hero_img="images/heroes/".concat(hero_name,".png")}return hero_img};var MatchCard=function MatchCard(_ref2){var match=_ref2.match,nameList=_ref2.nameList,addName=_ref2.addName,filterOutcome=_ref2.filterOutcome,filterCommend=_ref2.filterCommend,filterReport=_ref2.filterReport;var match_id=match.match_id,records=match.records,hasCommend=match.hasCommend,hasReport=match.hasReport;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),apiData=_useState2[0],setApiData=_useState2[1];useEffect(function(){getGameData(match_id).then(function(response){setApiData(response)}).catch(function(e){console.log(e);setApiData(null)})},[match_id]);var _useState3=useState({outcome:"",gamemode:"",duration:"",date_string:"Loading...",date:null,hero_img:"images/match_status/hero_status_loading.png",score_k:"-",score_d:"-",score_a:"-",player:null,data:null}),_useState4=_slicedToArray(_useState3,2),gameData=_useState4[0],setGameData=_useState4[1];useEffect(function(){var response=apiData;var derived_data={date_string:"Error: OpenDota not responding",date:null,outcome:"",gamemode:"",duration:"",score_k:"-",score_d:"-",score_a:"-",hero_img:"images/match_status/hero_status_error.png",player:null,data:null};if(response){if(!response.error){var timestamp=response.start_time;var date_obj=new Date(timestamp*1000);var _date_string=date_obj.toLocaleString();var _gamemode=formatGameMode(response.lobby_type,response.game_mode);var _duration=formatDuration(response.duration);derived_data["date"]=date_obj;derived_data["date_string"]=_date_string;derived_data["gamemode"]=_gamemode;derived_data["duration"]=_duration;derived_data["data"]=apiData;var _player=null;if(!_player){var filtered_players=response.players.filter(function(p){return nameList.indexOf("account:".concat(p.account_id))>=0});if(filtered_players.length===1)_player=filtered_players[0]}if(!_player){var _filtered_players=response.players.filter(function(p){return nameList.indexOf("".concat(p.personaname))>=0});if(_filtered_players.length===1)_player=_filtered_players[0];if(_player){if(nameList.filter(function(n){return n.startsWith("account:")}).length===0){addName(["account:".concat(_player.account_id)])}}}if(!_player){var _filtered_players2=response.players.filter(function(p){return nameList.indexOf("match:".concat(p.match_id,":").concat(p.player_slot))>=0});if(_filtered_players2.length===1)_player=_filtered_players2[0]}if(_player){var hero_id=_player.hero_id;derived_data["hero_img"]=getHeroImageUrl(hero_id);derived_data["score_k"]=_player.kills;derived_data["score_d"]=_player.deaths;derived_data["score_a"]=_player.assists;derived_data["outcome"]=_player.win;derived_data["player"]=_player}else{derived_data["hero_img"]="images/match_status/hero_status_unknown.png"}}else{derived_data["date_string"]="Error: OpenDota match not found";derived_data["hero_img"]="images/match_status/hero_status_404.png"}}else if(response===false){derived_data["date_string"]="Loading...";derived_data["hero_img"]="images/match_status/hero_status_loading.png"}else{derived_data["date_string"]="Error: OpenDota not responding";derived_data["hero_img"]="images/match_status/hero_status_error.png"}setGameData(derived_data)},[apiData,nameList]);var outcome=gameData.outcome,gamemode=gameData.gamemode,duration=gameData.duration,date=gameData.date,date_string=gameData.date_string,hero_img=gameData.hero_img,score_k=gameData.score_k,score_d=gameData.score_d,score_a=gameData.score_a,player=gameData.player,data=gameData.data;var is_hidden=false;if(filterOutcome==="win"){if(outcome===""||!outcome)is_hidden=true}else if(filterOutcome==="lose"){if(outcome===""||!!outcome)is_hidden=true}if(filterCommend&&!hasCommend){is_hidden=true}if(filterReport&&!hasReport){is_hidden=true}return React.createElement("tr",{className:"match_row "+(is_hidden?"hidden":"")},React.createElement("td",{className:"match text-right"},React.createElement("a",{href:"https://www.opendota.com/matches/".concat(match_id),target:"_blank"},match_id)," ",outcome!==""&&!!outcome?React.createElement("span",{className:"win ml-1 font-weight-bold"},"WIN"):null,outcome!==""&&!outcome?React.createElement("span",{className:"lose ml-1 font-weight-bold"},"LOSE"):null,React.createElement("br",null),React.createElement("span",{className:"gamemode mr-1"},gamemode),React.createElement("span",{className:"duration mr-1"},duration),React.createElement("a",{className:"opendota",href:"https://www.opendota.com/matches/".concat(match_id),target:"_blank"},"</>")," ",React.createElement("a",{className:"dotabuff",href:"https://www.dotabuff.com/matches/".concat(match_id),target:"_blank"},"D")," ",React.createElement("a",{className:"stratz",href:"https://stratz.com/en-us/match/".concat(match_id),target:"_blank"},"\u21D1"),React.createElement("br",null),date_string),React.createElement("td",{className:"icon pb-1 text-center"},React.createElement("img",{className:"mb-1 mt-1",src:hero_img,height:"34"}),React.createElement("br",null),React.createElement("span",{className:"score_k"},score_k),React.createElement("span",{className:"kda_spacer"},"/"),React.createElement("span",{className:"score_d"},score_d),React.createElement("span",{className:"kda_spacer"},"/"),React.createElement("span",{className:"score_a"},score_a)),React.createElement("td",{className:"summary"},records.map(function(record,i){return React.createElement(Fragment,{key:i},i!==0?React.createElement("hr",null):null,React.createElement(ReportRow,{mode:gamemode,timestamp:date,record:record}))}),!!data&&!player?React.createElement(Fragment,null,React.createElement("hr",null),React.createElement("span",{className:"untagged_title"},"We're not sure who you are in this match:"),React.createElement("ul",null,data.players.map(function(p){var hero_img=getHeroImageUrl(p.hero_id);return React.createElement("li",null,React.createElement("a",{href:"#",onClick:function onClick(e){e.preventDefault();var nameToAdd=["match:".concat(p.match_id,":").concat(p.player_slot)];if(p.personaname){nameToAdd.push(p.personaname)}if(p.account_id){nameToAdd.push("account:".concat(p.account_id))}addName(nameToAdd)}},React.createElement("img",{className:"mr-1 mb-1",src:hero_img,height:"15"}),p.personaname||"Unidentified"))})),React.createElement("span",{className:"untagged_description"},"Please click on your name to view the match info. ","If your name is not displayed, you may need to ",React.createElement("a",{href:"https://purgegamers.true.io/art/how-to-load-all-match-data-in-dotabuff/"},"enable the Expose Public Match Data setting"),".")):null))};var OutputCard=function OutputCard(){var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showCommendOnly=_useState6[0],setShowCommendOnly=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showReportOnly=_useState8[0],setShowReportOnly=_useState8[1];var _useState9=useState("all"),_useState10=_slicedToArray(_useState9,2),showOutcomeType=_useState10[0],setShowOutcomeType=_useState10[1];var raw_data=location.hash.substring(1);var data=raw_data.split(",");var name=decodeURIComponent(data[0]);var _useState11=useState([name]),_useState12=_slicedToArray(_useState11,2),nameList=_useState12[0],setNameList=_useState12[1];var addName=useCallback(function(appendList){setNameList([].concat(_toConsumableArray(nameList),_toConsumableArray(appendList)))},[nameList]);var records=data.slice(1).map(function(row){if(!row)return null;var splitted_row=row.split("-");var match_id=splitted_row[0];if(isNaN(parseInt(match_id)))return null;var timestamp=splitted_row[1];var parsed_row=splitted_row[2].split("");var report_comm=parsed_row[0]==="1";var report_abi=parsed_row[1]==="1";var report_feed=parsed_row[2]==="1";var report_wrong_role_postgame=parsed_row[3]==="1";var report_wrong_role=parsed_row[4]==="1";var report_avoid_player=parsed_row[5]==="1";var report_abusive_coach=parsed_row[6]==="1";var commend_lead=parsed_row[7]==="1";var commend_teach=parsed_row[8]==="1";var commend_friend=parsed_row[9]==="1";var commend_forgive=parsed_row[10]==="1";return{match_id:match_id,timestamp:timestamp,report_comm:report_comm,report_abi:report_abi,report_feed:report_feed,report_wrong_role_postgame:report_wrong_role_postgame,report_wrong_role:report_wrong_role,report_avoid_player:report_avoid_player,report_abusive_coach:report_abusive_coach,commend_lead:commend_lead,commend_teach:commend_teach,commend_friend:commend_friend,commend_forgive:commend_forgive}});var matches=[];records.filter(function(row){return!!row}).forEach(function(row){if(matches.length>0){if(matches[matches.length-1].match_id===row.match_id){matches[matches.length-1].records.push(row);return}}matches.push({match_id:row.match_id,records:[row]})});matches=matches.map(function(match){var hasCommend=false;var hasReport=false;match.records.forEach(function(record){var commend_teach=record.commend_teach,commend_lead=record.commend_lead,commend_friend=record.commend_friend,commend_forgive=record.commend_forgive;if(commend_forgive||commend_friend||commend_teach||commend_lead){hasCommend=true;return}hasReport=true});return _objectSpread({},match,{hasCommend:false,hasReport:false})});return React.createElement("div",{id:"output",className:"mt-3"},React.createElement("div",{className:"card"},React.createElement("div",{className:"card-body"},React.createElement("div",{className:"card-title float-left",id:"output_title"},React.createElement("h2",null,name,"'s Commend/Report Data")),React.createElement("div",{className:"float-right"},React.createElement("div",{className:"btn-group btn-group-toggle","data-toggle":"buttons"},React.createElement("label",{className:"btn btn-secondary "+(showCommendOnly?"active":"")},React.createElement("input",{type:"checkbox",autoComplete:"off",id:"filter_commend",onClick:function onClick(){return setShowCommendOnly(!showCommendOnly)}}),"Commended"),React.createElement("label",{className:"btn btn-secondary "+(showReportOnly?"active":"")},React.createElement("input",{type:"checkbox",autoComplete:"off",id:"filter_report",onClick:function onClick(){return setShowReportOnly(!showReportOnly)}}),"Reported"))),React.createElement("div",{className:"float-right mr-3"},React.createElement("div",{className:"btn-group btn-group-toggle","data-toggle":"buttons"},React.createElement("label",{className:"btn btn-secondary "+(showOutcomeType==="all"?"active":"")},React.createElement("input",{type:"radio",name:"filter_outcome",autoComplete:"off",id:"filter_outcome_all",onClick:function onClick(){return setShowOutcomeType("all")}}),"All"),React.createElement("label",{className:"btn btn-secondary "+(showOutcomeType==="win"?"active":"")},React.createElement("input",{type:"radio",name:"filter_outcome",autoComplete:"off",id:"filter_outcome_win",onClick:function onClick(){return setShowOutcomeType("win")}}),"Win"),React.createElement("label",{className:"btn btn-secondary "+(showOutcomeType==="lose"?"active":"")},React.createElement("input",{type:"radio",name:"filter_outcome",autoComplete:"off",id:"filter_outcome_lose",onClick:function onClick(){return setShowOutcomeType("lose")}}),"Lose"))),React.createElement("h5",{id:"filter_title",className:"card-title float-right mr-3"},"Filter: "),React.createElement("p",{className:"card-text",id:"output_data"},React.createElement("table",{className:"table table-striped table-sm"},React.createElement("tbody",null,matches.map(function(match){return React.createElement(MatchCard,{key:match.match_id,match:match,nameList:nameList,addName:addName,filterCommend:showCommendOnly,filterReport:showReportOnly,filterOutcome:showOutcomeType})})))))))};var App=function App(){var isOutputMode=false;if(location.hash&&location.hash!=="#"){isOutputMode=true}var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),showManualInstruction=_useState14[0],setShowManualInstruction=_useState14[1];var isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;return React.createElement(Fragment,null,React.createElement("img",{id:"logo",src:"images/illuminate_logo.png",alt:"Illuminate Logo"}),React.createElement("div",null,React.createElement("h1",null,"Illuminate"),React.createElement("h2",null,"See what Dota 2 matches you get commended and reported in")),React.createElement("div",{className:"alert alert-danger",role:"alert"},"We're working on fixing the website to accept valve's new GDPR data format. Join our ",React.createElement("a",{href:"https://discord.gg/x5QHsVV",className:"alert-link"},"Discord")," for further info."),React.createElement("hr",null),isOutputMode?React.createElement(OutputCard,null):null,!isOutputMode?React.createElement("div",{id:"whatis"},React.createElement("h3",null,"What is Illuminate?"),React.createElement("div",null,"Illuminate is a tool that parses the Dota 2 GDPR data and displays what matches you get commended or reported in, along with stats for the relevant matches."),React.createElement("h3",null,"Is my commend/report history sent to a server?"),React.createElement("div",null,"No. All GDPR data is stored and processed on your browser, and is never sent to any remote server."),React.createElement("h3",null,"Where do you get the public match data from?"),React.createElement("div",null,"All match data is sourced from ",React.createElement("a",{href:"https://www.opendota.com/"},"OpenDota"),"; if it doesn't appear, please check that your matches are displayed there!")):null,!isOutputMode?React.createElement("div",{id:"instruction",className:"mt-3"},React.createElement("div",{className:"card"},React.createElement("div",{className:"card-body"},React.createElement("h3",null,React.createElement("i",{className:"far fa-clipboard-list"})," How to use"),React.createElement("ol",{className:"how_to_use"},React.createElement("li",null,"Install our extension:",React.createElement("br",null),React.createElement("div",{className:"m-3"},"Available for ",React.createElement("a",{href:"https://chrome.google.com/webstore/detail/chakra-magic/ldamnagiplkkoeolomjiigkfaobbecbo",target:"_blank"},React.createElement("img",{className:"browser_icon",alt:"Google Chrome Icon",src:"images/chrome_icon.png"})," Google Chrome")," and ",React.createElement("a",{href:"https://addons.mozilla.org/en-US/firefox/addon/chakra-magic/",target:"_blank"},React.createElement("img",{className:"browser_icon",alt:"Mozilla Firefox Icon",src:"images/firefox_icon.png"})," Mozilla Firefox"))),React.createElement("li",null,"Click on the ",React.createElement("i",null,"Chakra Magic")," icon:",React.createElement("br",null),React.createElement("img",{className:"sample_image",alt:"Example image of extension icon location",src:"images/extension_icon_example.png"}),React.createElement("br",null),React.createElement("span",{className:"text-warning"},"If you have many extensions, it may be hidden: in that case, click on the rightmost button to see all installed extensions.")),React.createElement("li",null,"Click on the ",React.createElement("i",null,"Illuminate")," icon:",React.createElement("br",null),React.createElement("img",{className:"sample_image",alt:"Example image of in-page icon location",src:"images/inpage_icon_example.png"})),React.createElement("li",null,"Wait until the data finishes loading ",React.createElement("i",{className:"far fa-laugh-wink"}),React.createElement("br",null),React.createElement("img",{className:"sample_image",alt:"Example image of in-page icon location",src:"images/inpage_loading_example.png"}))),React.createElement("div",{className:"mb-3"},"If you don't want to use the extension, or you are using an unsupported browser, you can\xA0",React.createElement("a",{href:"#",onClick:function onClick(e){e.preventDefault();setShowManualInstruction(true)}},"run the fetch script manually"),"."),showManualInstruction?React.createElement(Fragment,null,React.createElement("h3",null,"Manually fetching the data"),React.createElement("ol",{className:"how_to_use"},React.createElement("li",null,"Open ",React.createElement("a",{href:"https://steamcommunity.com/my/gcpd/570/?category=Account&tab=MatchPlayerReportIncoming",target:"_blank"},"this page"),"."),React.createElement("li",null,"Press ",isFirefox?React.createElement("code",null,"Ctrl+Shift+K"):React.createElement("code",null,"Ctrl+Shift+J")," to open the Developer Console."),React.createElement("li",null,React.createElement("div",null,"Copy the following code, then paste it in the developer console and press Enter."),React.createElement("textarea",{id:"script_box",className:"form-control",readOnly:true,style:{color:"white",wordBreak:"break-all"},rows:"11",value:"(()=>{const a=()=>{const a=document.getElementsByClassName(\"profile_small_header_name\")[0].children[0].textContent,b=document.getElementById(\"personaldata_elements_container\").querySelectorAll(\"tr\"),c=[\"Yes\",\"\u0414\u0430\",\"Ano\",\"Ja\",\"Kyll\xE4\",\"Oui\",\"\u039D\u03B1\u03B9\",\"Igen\",\"S\xEC\",\"\u306F\u3044\",\"\uC608\",\"Tak\",\"Sim\",\"Da\",\"\u662F\",\"S\xED\",\"\u0E43\u0E0A\u0E48\",\"Evet\",\"\u0422\u0430\u043A\"];let d=encodeURIComponent(a)+\",\";for(let a=1;a<b.length;a++){const e=b[a].querySelectorAll(\"td\");if(0===e.length)continue;let f=\"\";f+=e[0].textContent+\"-\"+e[1].textContent+\"--\";for(let a=2;a<e.length;a++)f+=4>=a?-1===c.indexOf(e[a].textContent)?\"0:\":\"1\":e[a].textContent+\":\";d+=f+\",\"}window.location=\"https://illuminate.dotasphere.com/#\"+d};(b=>{let c=(b||99999)-1;const d=document.getElementById(\"load_more_button\"),e=document.getElementById(\"inventory_history_loading\"),f=()=>0!==c&&(d&&\"none\"!==d.style.display||e&&\"none\"!==e.style.display),g=()=>0!==c&&d&&\"none\"!==d.style.display,h=()=>d.click(),i=document.getElementById(\"personaldata_elements_container\");if(!i)return alert(\"Data table not found, make sure you are on steam GDPR page\");const j=document.createElement(\"h1\"),k=document.createTextNode(\"Loading more data \"),l=document.createElement(\"img\");l.src=\"https://steamcommunity-a.akamaihd.net/public/images/login/throbber.gif\",j.appendChild(k),j.appendChild(l),i.insertBefore(j,i.childNodes[0]),(()=>{const b=setInterval(()=>{g()?h():!f()&&(clearInterval(b),console.log(\"done\"),a())},100)})()})()})();"}),React.createElement("div",null,"If you don't want to use a minified script, you can use ",React.createElement("a",{href:"https://github.com/bongikairu/illuminate/blob/master/console_script.js"},"the full version available on GitHub"),".")),React.createElement("li",null,"Wait until the data finishes loading ",React.createElement("i",{className:"far fa-laugh-wink"})))):null))):null,React.createElement("div",{className:"mt-3"},React.createElement("h3",null,"Privacy Policy"),React.createElement("div",null,"Illuminate does everything client-side: it passes commend/report data through the URL anchor, and fetches match data locally through the OpenDota API.",React.createElement("br",null),"However, Google Analytics is present on the page, and it will send some anonymous data to Google to help us improve the website."),React.createElement("div",null,React.createElement("a",{href:"pp.html"},"Read our Privacy Policy"))),React.createElement("div",{className:"mt-3"},React.createElement("h3",null,"Development"),React.createElement("div",null,"If you have found a bug, or want to help improve this project, please visit\xA0",React.createElement("a",{href:"https://github.com/bongikairu/illuminate",className:"ml-1"},React.createElement("i",{className:"fab fa-github"}),"\xA0the GitHub project page"),"\xA0 or join ",React.createElement("a",{href:"https://discord.gg/x5QHsVV"},React.createElement("i",{className:"fab fa-discord"}),"\xA0our Discord server"),".")),React.createElement("hr",null),React.createElement("div",{className:"mt-3 text-center text-muted"},React.createElement("div",null,"Illuminate v2.5.0"),React.createElement("div",null,"A Dota 2 Match Report Data Linker"),React.createElement("div",null,"Created by ",React.createElement("a",{href:"https://github.com/bongikairu"},"bongikairu")),React.createElement("div",null,"Powered by the ",React.createElement("a",{href:"https://docs.opendota.com/"},"OpenDota API")),React.createElement("div",null,"Illuminate is a community tool and is not affiliated with Dota 2 or Valve."),React.createElement("div",{id:"rip"},"RIP yearbeast and d2armory")))};for(var key in localStorage){if(key.startsWith("match-")||key.startsWith("matchdata-")||key.startsWith("fullmatchdata-"))localStorage.removeItem(key)}ReactDOM.render(React.createElement(App,null),document.getElementById("root"));
